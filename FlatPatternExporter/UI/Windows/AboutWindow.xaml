<Window x:Class="FlatPatternExporter.UI.Windows.AboutWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:shell="clr-namespace:System.Windows.Shell;assembly=PresentationFramework"
        xmlns:local="clr-namespace:FlatPatternExporter.UI.Controls"
        xmlns:extensions="clr-namespace:FlatPatternExporter.Extensions"
        shell:WindowChrome.WindowChrome="{StaticResource CustomWindowChrome}"
        Title="{extensions:Localize Header_About}"
        WindowStartupLocation="CenterScreen"
        ResizeMode="NoResize"
        SizeToContent="WidthAndHeight"
        Background="{DynamicResource BackgroundPrimaryBrush}"
        Foreground="{DynamicResource TextSecondaryBrush}"
        Activated="RefreshWindowSize"
        StateChanged="RefreshWindowSize">

    <Border Style="{StaticResource WindowRootBorderStyle}">
        <Grid SnapsToDevicePixels="True">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Custom title bar -->
        <local:CustomTitleBar Grid.Row="0"
                              Title="{extensions:Localize Header_About}"
                              ShowMinimizeButton="False"
                              ShowMaximizeButton="False"/>

        <!-- Main information -->
        <Grid Grid.Row="1" Margin="{StaticResource StandardPaddingThickness}">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="300"/>
            </Grid.ColumnDefinitions>

            <!-- Left border -->
            <Border Grid.Column="0"
                    MaxHeight="{Binding ElementName=RightPanel, Path=ActualHeight}"
                    Padding="0,4,5,4"
                    x:Name="ImageContainer">
                <Border.Resources>
                    <BitmapImage x:Key="OriginalImage"
                                 UriSource="/Resources/pic/5e4a4cfa-8411-4744-bd53-1f219e7ac097.png"/>

                    <FormatConvertedBitmap x:Key="GrayscaleImage"
                                          Source="{StaticResource OriginalImage}"
                                          DestinationFormat="Gray8"/>

                    <VisualBrush x:Key="RoundedMask">
                        <VisualBrush.Visual>
                            <Border Background="Black"
                                    CornerRadius="2"
                                    Width="{Binding RelativeSource={RelativeSource AncestorType=Border, AncestorLevel=2}, Path=ActualWidth}"
                                    Height="{Binding RelativeSource={RelativeSource AncestorType=Border, AncestorLevel=2}, Path=ActualHeight}"/>
                        </VisualBrush.Visual>
                    </VisualBrush>
                </Border.Resources>

                <Border BorderBrush="{DynamicResource BorderPrimaryBrush}"
                        BorderThickness="1"
                        CornerRadius="3"
                        Padding="1">
                    <Grid>
                        <Image Source="{StaticResource GrayscaleImage}"
                               Stretch="Uniform"
                               OpacityMask="{StaticResource RoundedMask}"/>

                        <Image x:Name="ColorImage"
                               Source="{StaticResource OriginalImage}"
                               Stretch="Uniform"
                               Opacity="0"
                               OpacityMask="{StaticResource RoundedMask}">
                            <Image.Style>
                                <Style TargetType="Image">
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsMouseOver, ElementName=ImageContainer}" Value="True">
                                            <DataTrigger.EnterActions>
                                                <BeginStoryboard>
                                                    <Storyboard>
                                                        <DoubleAnimation Storyboard.TargetProperty="Opacity"
                                                                       To="1.0"
                                                                       Duration="0:0:1">
                                                            <DoubleAnimation.EasingFunction>
                                                                <QuadraticEase EasingMode="EaseInOut"/>
                                                            </DoubleAnimation.EasingFunction>
                                                        </DoubleAnimation>
                                                    </Storyboard>
                                                </BeginStoryboard>
                                            </DataTrigger.EnterActions>
                                            <DataTrigger.ExitActions>
                                                <BeginStoryboard>
                                                    <Storyboard>
                                                        <DoubleAnimation Storyboard.TargetProperty="Opacity"
                                                                       To="0.0"
                                                                       Duration="0:0:1">
                                                            <DoubleAnimation.EasingFunction>
                                                                <QuadraticEase EasingMode="EaseInOut"/>
                                                            </DoubleAnimation.EasingFunction>
                                                        </DoubleAnimation>
                                                    </Storyboard>
                                                </BeginStoryboard>
                                            </DataTrigger.ExitActions>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Image.Style>
                        </Image>
                    </Grid>
                </Border>
            </Border>

                <StackPanel x:Name="RightPanel" Grid.Column="1" VerticalAlignment="Top">
                <GroupBox Header="{extensions:Localize Header_ProgramVersion}" Margin="{StaticResource VerticalSmallMarginThickness}">
                <StackPanel Margin="{StaticResource SectionContentMarginThickness}">
                    <DockPanel>
                        <Button x:Name="CopyButton"
                                Style="{StaticResource CopyIconButton}"
                                DockPanel.Dock="Right"
                                Margin="{StaticResource SmallMarginThickness}"
                                Click="CopyVersionToClipboard_Click"
                                ToolTip="{extensions:Localize ToolTip_CopyVersion}">

                        </Button>
                        <TextBlock x:Name="VersionTextBlock"
                                   TextAlignment="Center"
                                   Style="{StaticResource BaseTextBlockStyle}" VerticalAlignment="Center" FontSize="12" FontWeight="SemiBold"/>
                    </DockPanel>
                </StackPanel>
            </GroupBox>

            <GroupBox Header="{extensions:Localize Header_License}" Margin="{StaticResource VerticalSmallMarginThickness}">
                <StackPanel Margin="{StaticResource SectionContentMarginThickness}">
                    <TextBlock Text="{extensions:Localize Text_LicenseValue}"
                               TextAlignment="Center"
                               Style="{StaticResource BaseTextBlockStyle}"
                               FontSize="12"
                               FontWeight="SemiBold"
                               Margin="{StaticResource BottomSmallMarginThickness}"/>
                </StackPanel>
            </GroupBox>

            <GroupBox Header="{extensions:Localize Header_Author}" Margin="{StaticResource VerticalSmallMarginThickness}">
                <StackPanel Margin="{StaticResource SectionContentMarginThickness}">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <TextBlock Grid.Row="0" Grid.Column="0" Text="{extensions:Localize Text_AuthorLabel}"
                                   Style="{StaticResource BaseTextBlockStyle}" FontWeight="SemiBold" Margin="{StaticResource RightSmallMarginThickness}" TextAlignment="Right"/>
                        <TextBlock Grid.Row="0" Grid.Column="1" Text="{extensions:Localize Text_AuthorName}"
                                   Style="{StaticResource BaseTextBlockStyle}"/>

                        <TextBlock Grid.Row="1" Grid.Column="0" Text="Email:"
                                   Style="{StaticResource BaseTextBlockStyle}" FontWeight="SemiBold" Margin="0,4,4,0" TextAlignment="Right"/>
                        <TextBlock Grid.Row="1" Grid.Column="1"
                                   x:Name="EmailTextBlock"
                                   Text="isinicyn@gmail.com"
                                   Cursor="Hand"
                                   Margin="0,4,0,0"
                                   MouseLeftButtonDown="EmailTextBlock_MouseLeftButtonDown" HorizontalAlignment="Left">
                            <TextBlock.Style>
                                <Style TargetType="TextBlock" BasedOn="{StaticResource BaseTextBlockStyle}">
                                    <Setter Property="Foreground" Value="{DynamicResource AccentFillColorDefaultBrush}"/>
                                    <Style.Triggers>
                                        <Trigger Property="IsMouseOver" Value="True">
                                            <Setter Property="TextDecorations" Value="Underline"/>
                                        </Trigger>
                                    </Style.Triggers>
                                </Style>
                            </TextBlock.Style>
                        </TextBlock>
                    </Grid>
                </StackPanel>
            </GroupBox>

            <GroupBox Header="{extensions:Localize Header_AISupport}" Margin="{StaticResource VerticalSmallMarginThickness}">
                <StackPanel Margin="{StaticResource SectionContentMarginThickness}">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <TextBlock Grid.Row="0" Grid.Column="0" Text="WEB"
                                   Style="{StaticResource BaseTextBlockStyle}"
                                   FontWeight="SemiBold"
                                   VerticalAlignment="Center"
                                   Margin="{StaticResource RightSmallMarginThickness}" TextAlignment="Center"/>
                        <Border Grid.Row="0" Grid.Column="1"
                                BorderBrush="{DynamicResource BorderPrimaryBrush}"
                                BorderThickness="1"
                                CornerRadius="3"
                                Padding="{StaticResource SmallPaddingThickness}">
                            <TextBlock FontSize="{StaticResource SmallFontSize}"
                                       Foreground="{DynamicResource TextMutedBrush}"
                                       FontWeight="SemiBold"
                                       TextWrapping="Wrap">
                                <Run Text="• ChatGPT 4o"/><LineBreak/>
                                <Run Text="• Mistral Large 2"/><LineBreak/>
                                <Run Text="• Claude 3.5 Sonnet"/>
                            </TextBlock>
                        </Border>

                        <Separator Grid.Row="1" Grid.ColumnSpan="2" Margin="{StaticResource VerticalSmallMarginThickness}"/>

                        <TextBlock Grid.Row="2" Grid.Column="0" Text="CLI"
                                   Style="{StaticResource BaseTextBlockStyle}"
                                   FontWeight="SemiBold"
                                   VerticalAlignment="Center"
                                   Margin="{StaticResource RightSmallMarginThickness}" TextAlignment="Center"/>
                        <Border Grid.Row="2" Grid.Column="1"
                                BorderBrush="{DynamicResource BorderPrimaryBrush}"
                                BorderThickness="1"
                                CornerRadius="3"
                                Padding="{StaticResource SmallPaddingThickness}">
                            <TextBlock FontSize="{StaticResource SmallFontSize}"
                                       Foreground="{DynamicResource TextMutedBrush}"
                                       FontWeight="SemiBold"
                                       TextWrapping="Wrap">
                                <Run Text="• Claude 4 Sonnet"/><LineBreak/>
                                <Run Text="• Claude 4.1 Opus"/><LineBreak/>
                                <Run Text="• Claude 4.5 Sonnet"/>
                            </TextBlock>
                        </Border>
                    </Grid>
                </StackPanel>
            </GroupBox>

            <GroupBox Header="{extensions:Localize Header_OpenSourceLibraries}" Margin="{StaticResource VerticalSmallMarginThickness}">
                <StackPanel Margin="{StaticResource SectionContentMarginThickness}">
                    <StackPanel>
                        <TextBlock Text="• ClosedXML 0.105.0"
                                   Style="{StaticResource BaseTextBlockStyle}"
                                   Foreground="{DynamicResource TextMutedBrush}"
                                   FontWeight="SemiBold"
                                   Margin="{StaticResource BottomHairlineMarginThickness}"/>
                        <TextBlock Text="• netDxf.netstandard 3.0.1"
                                   Style="{StaticResource BaseTextBlockStyle}"
                                   Foreground="{DynamicResource TextMutedBrush}"
                                   FontWeight="SemiBold"
                                   Margin="{StaticResource BottomHairlineMarginThickness}"/>
                        <TextBlock Text="• Svg.Skia 3.2.1"
                                   Style="{StaticResource BaseTextBlockStyle}"
                                   Foreground="{DynamicResource TextMutedBrush}"
                                   FontWeight="SemiBold"/>
                    </StackPanel>
                </StackPanel>
            </GroupBox>
            </StackPanel>
        </Grid>

        <!-- Buttons -->
        <Border Grid.Row="2" Style="{StaticResource DialogBottomBarStyle}">
            <Button Content="{extensions:Localize Button_Close}"
                    HorizontalAlignment="Right"
                    Style="{StaticResource FileNameActionButtonStyle}"
                    Click="CloseButton_Click"/>
        </Border>
    </Grid>
    </Border>
</Window>
