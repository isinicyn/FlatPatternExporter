<Window x:Class="FlatPatternExporter.UI.Windows.CustomMessageBox"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:shell="clr-namespace:System.Windows.Shell;assembly=PresentationFramework"
        xmlns:local="clr-namespace:FlatPatternExporter.UI.Controls"
        xmlns:extensions="clr-namespace:FlatPatternExporter.Extensions"
        shell:WindowChrome.WindowChrome="{StaticResource CustomWindowChrome}"
        Title="Message"
        Width="500"
        WindowStartupLocation="CenterScreen"
        ResizeMode="NoResize"
        SizeToContent="Height"
        Background="{DynamicResource BackgroundPrimaryBrush}"
        Foreground="{DynamicResource TextSecondaryBrush}"
        ShowInTaskbar="False"
        Topmost="True">

    <Border Style="{StaticResource WindowRootBorderStyle}">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- Custom title bar -->
            <local:CustomTitleBar x:Name="TitleBar"
                                  Grid.Row="0"
                                  ShowMinimizeButton="False"
                                  ShowMaximizeButton="False">
                <local:CustomTitleBar.ContentArea>
                    <Button Style="{StaticResource TitleBarIconButtonStyle}"
                            Tag="{StaticResource CopyIconGeometry}"
                            Click="CopyButton_Click"
                            ToolTip="{extensions:Localize ToolTip_CopyToClipboard}"
                            Margin="0,0,8,0"/>
                </local:CustomTitleBar.ContentArea>
            </local:CustomTitleBar>

            <!-- Message content -->
            <Grid Grid.Row="1" Margin="10,15,10,15">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!-- Icon -->
                <Viewbox Grid.Column="0"
                         Width="40"
                         Height="40"
                         Margin="0,0,16,0"
                         VerticalAlignment="Top">
                    <Path x:Name="IconPath"
                          Stroke="{DynamicResource AccentBrush}"
                          StrokeThickness="2"
                          StrokeLineJoin="Round"
                          StrokeStartLineCap="Round"
                          StrokeEndLineCap="Round"
                          Stretch="Uniform"/>
                </Viewbox>

                <!-- Message text -->
                <TextBlock x:Name="MessageTextBlock"
                           Grid.Column="1"
                           TextWrapping="Wrap"
                           VerticalAlignment="Center"
                           Style="{StaticResource BaseTextBlockStyle}"
                           FontSize="{StaticResource StandardFontSize}"/>
            </Grid>

            <!-- Buttons -->
            <Border Grid.Row="2" Style="{StaticResource DialogBottomBarStyle}">
                <StackPanel x:Name="ButtonPanel"
                            Orientation="Horizontal"
                            HorizontalAlignment="Right">
                    <!-- Buttons will be added dynamically -->
                </StackPanel>
            </Border>
        </Grid>
    </Border>
</Window>
